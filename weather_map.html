<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>Weather Map Project</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<link rel ="stylesheet" href="css/weathermap.css">
</head>
<body>
<!--	header-->
	<nav class="navbar navbar-dark text-white bg-primary">
		<div>Weather App</div>
		<div>Current City: Richardson, TX</div>
	</nav>

<!--	start of container-->
	<div class="container">

<!--		form to type in Place-->
		<div class="row">
			<form class="form-inline mt-4 mb-4">
				<div class="form-group mb-2">
					<label for="place" class="sr-only">Place</label>
					<input type="text" readonly class="form-control-plaintext" id="place" value="Place">
				</div>
				<div class="form-group mx-sm-3 mb-2">
					<label for="city" class="sr-only">City</label>
					<input type="text" class="form-control" id="city" placeholder="Dallas, TX">
				</div>
				<button type="submit" class="btn btn-primary mb-2">Find</button>
			</form>
		</div>

<!--		cards for each day's weather-->
		<div class="row" id="april16">
<!--			<div  class="col card" style="width: 18rem;">-->
<!--					<div class="card-header">-->
<!--						Featured-->
<!--					</div>-->
<!--					<ul class="list-group list-group-flush">-->
<!--						<li class="list-group-item">Cras justo odio</li>-->
<!--			        	<img id="weather-icon" alt="weather icon">-->
<!--						<li class="list-group-item">Dapibus ac facilisis in</li>-->
<!--						<li class="list-group-item">Vestibulum at eros</li>-->
<!--					</ul>-->

<!--			</div> repeat lines 38-49 4 more times to get all 5 cards-->
		</div>

<!--		map-->
		<div class="row">

		</div>
	</div>

<!--	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>-->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
	<script src="js/keys.js"></script>

	<script>

		"use strict";
		(function() {
		    var restHTML = '';

			$.get("http://api.openweathermap.org/data/2.5/forecast", {
                "APPID": OWM_KEY,
                "q": "Richardson, US",
                "units": "imperial"
            }).done(function(data) {
                console.log(data);

                $('#april16').empty();
                var temp = 0;

                //icon
                function getIcon() {
					$.get("http://api.openweathermap.org/data/2.5/forecast", {
						"APPID": OWM_KEY,
						"q": "Richardson, US",
						"units": "imperial"
					}).done(function(forecastData) {
						console.log(forecastData);
						var icon = "http://openweathermap.org/img/w/" + forecastData.list[6].weather[0].icon + ".png";
						console.log(icon);
						$('#weather-icon').attr('src', icon);
					});
                }
				getIcon();

				//weather info for each card
                for (var i = 2; i < 40; i+=8) {
                   var date = data.list[i].dt_txt;
                   temp = data.list[i].main.temp;
                   console.log(temp);
                   var description = data.list[i].weather[0].description;
                   console.log(description);
                   var humidity = data.list[i].main.humidity;
                    console.log(humidity);
                   var wind = data.list[i].wind.speed;
                    console.log(wind);
                   var pressure = data.list[i].main.pressure;
                    console.log(pressure);

                   restHTML = '<div class="col card" style="width: 18rem;">';
                   restHTML += '<div class="card-header">';
                   restHTML += date;
                   restHTML += '</div>';
                   restHTML += '<ul class="list-group list-group-flush"></ul>';
                   restHTML += '<li class="list-group-item">' + temp +'Â°F<span><img id="weather-icon" alt="weather icon"></span></li>';
                   // restHTML += '<span><img id="weather-icon" alt="weather icon"></span>';
                   restHTML += '<li class="list-group-item">' + description + '</li>';
                   restHTML += '<li class="list-group-item">Humidity: ' + humidity +'</li>';
                   restHTML += '<li class="list-group-item">Wind: ' + wind +'</li>';
                   restHTML += '<li class="list-group-item">Pressure: ' + pressure +'</li>';
                   restHTML += '</div>'

                    $('#april16').append(restHTML);

                }

			}).fail(function(errors) {
			    console.error(errors);
			});


		})();
	</script>
</body>
</html>